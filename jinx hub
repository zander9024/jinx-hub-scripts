--// Load Rayfield
local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

--// Setup
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local hrp = character:WaitForChild("HumanoidRootPart")

--// Create Main UI Window
local Window = Rayfield:CreateWindow({
      Name = "Jinx Hub",
      LoadingTitle = "Loading Jinx Hub UI...",
      LoadingSubtitle = "by jinx",
      ConfigurationSaving = {
            Enabled = false,
      },
      Discord = {
            Enabled = false
      },
      KeySystem = false
})

--// Create Universal Tab
local UniversalTab = Window:CreateTab("Universal", 4483362458)

--// WalkSpeed Slider
UniversalTab:CreateSlider({
      Name = "WalkSpeed",
      Range = {16, 100},
      Increment = 1,
      Suffix = "Speed",
      CurrentValue = 16,
      Callback = function(Value)
            humanoid.WalkSpeed = Value
      end,
})

--// JumpPower Slider
UniversalTab:CreateSlider({
      Name = "Jump Height",
      Range = {50, 200},
      Increment = 5,
      Suffix = "Power",
      CurrentValue = 50,
      Callback = function(Value)
            humanoid.UseJumpPower = true
            humanoid.JumpPower = Value
      end,
})

--// No Clip Toggle
local noclip = false

UniversalTab:CreateToggle({
      Name = "No Clip",
      CurrentValue = false,
      Callback = function(Value)
            noclip = Value
      end
})

RunService.Stepped:Connect(function()
      if noclip and character then
            for _, part in pairs(character:GetDescendants()) do
                  if part:IsA("BasePart") then
                        part.CanCollide = false
                  end
            end
      end
end)

--// Fly Toggle
local flying = false
local flyConnection
local flySpeed = 100

UniversalTab:CreateToggle({
      Name = "Fly",
      CurrentValue = false,
      Callback = function(Value)
            flying = Value

            if flying then
                  local bv = Instance.new("BodyVelocity")
                  local bg = Instance.new("BodyGyro")

                  bv.Name = "FlyVelocity"
                  bv.MaxForce = Vector3.new(1e5, 1e5, 1e5)
                  bv.Velocity = Vector3.zero
                  bv.P = 1250
                  bv.Parent = hrp

                  bg.Name = "FlyGyro"
                  bg.MaxTorque = Vector3.new(1e5, 1e5, 1e5)
                  bg.P = 3000
                  bg.CFrame = workspace.CurrentCamera.CFrame
                  bg.Parent = hrp

                  flyConnection = RunService.RenderStepped:Connect(function()
                        local camCF = workspace.CurrentCamera.CFrame
                        bg.CFrame = camCF

                        local moveVec = Vector3.zero
                        if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveVec += camCF.LookVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveVec -= camCF.LookVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveVec -= camCF.RightVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveVec += camCF.RightVector end
                        if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveVec += Vector3.new(0, 1, 0) end
                        if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then moveVec -= Vector3.new(0, 1, 0) end

                        if moveVec.Magnitude > 0 then
                              bv.Velocity = moveVec.Unit * flySpeed
                        else
                              bv.Velocity = Vector3.zero
                        end
                  end)
            else
                  if hrp:FindFirstChild("FlyVelocity") then hrp.FlyVelocity:Destroy() end
                  if hrp:FindFirstChild("FlyGyro") then hrp.FlyGyro:Destroy() end
                  if flyConnection then flyConnection:Disconnect() end
            end
      end
})

--// Local BTools Button
UniversalTab:CreateButton({
      Name = "Give Local BTools (Client)",
      Callback = function()
            local Backpack = player:WaitForChild("Backpack")
            local mouse = player:GetMouse()

            -- Delete Tool
            local deleteTool = Instance.new("Tool")
            deleteTool.Name = "Delete"
            deleteTool.RequiresHandle = false

            deleteTool.Activated:Connect(function()
                  local target = mouse.Target
                  if target and target:IsDescendantOf(workspace) then
                        target:Destroy()
                  end
            end)
            deleteTool.Parent = Backpack

            -- Move Tool
            local moveTool = Instance.new("Tool")
            moveTool.Name = "Move"
            moveTool.RequiresHandle = false

            local movingPart = nil

            moveTool.Activated:Connect(function()
                  movingPart = mouse.Target
            end)

            RunService.RenderStepped:Connect(function()
                  if moveTool.Parent == player.Character and movingPart then
                        movingPart.CFrame = CFrame.new(mouse.Hit.p)
                  end
            end)

            moveTool.Deactivated:Connect(function()
                  movingPart = nil
            end)
            moveTool.Parent = Backpack

            -- Resize Tool
            local resizeTool = Instance.new("Tool")
            resizeTool.Name = "Resize"
            resizeTool.RequiresHandle = false

            resizeTool.Activated:Connect(function()
                  local targetPart = mouse.Target
                  if targetPart then
                        targetPart.Size = targetPart.Size + Vector3.new(1, 1, 1)
                  end
            end)
            resizeTool.Parent = Backpack

            Rayfield:Notify({
                  Title = "Local BTools Added",
                  Content = "Client-side tools (Delete, Move, Resize) added to your backpack.",
                  Duration = 4
            })
      end
})

--// 99 Nights In The Forest Tab
local NightsTab = Window:CreateTab("99 Nights In The Forest", 4483362458)

NightsTab:CreateParagraph({
      Title = "99 Nights",
      Content = "This section is reserved for features or tools specifically related to the 99 Nights In The Forest game or mode."
})
